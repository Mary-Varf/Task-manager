(function(t){function e(e){for(var s,r,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={app:0},a=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"38c8":function(t,e,n){},"531e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"content"},[n("header",{staticClass:"header"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title header__title"},[t._v("Мои задачи")]),n("TaskInput",{on:{"save-new-task":t.saveNewTask}})],1)]),n("main",{staticClass:"main"},[n("div",{staticClass:"container"},[n("TasksList",{attrs:{tasks:t.tasks},on:{"delete-task":t.deleteTask,"edit-task":t.editTask,"change-index":t.changeIndex}})],1)])]),t._m(0)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg"},[n("div",{staticClass:"d-flex flex-column justify-content-center w-100 h-100"},[n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"})])])}],r=(n("e9c4"),n("4de4"),n("d3b7"),n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"done main__section"},[n("h2",{staticClass:"visually-hidden"},[t._v("Задачи")]),n("ul",{staticClass:"list-reset main__list"},t._l(t.sortedTaskList,(function(e){return n("TaskCard",{key:e.id,attrs:{task:e,currentPosition:e.index},on:{"delete-task":t.deleteTask,"edit-task":t.editTask,"change-index":t.changeIndex}})})),1),n("div",{staticClass:"result"},[n("TasksNumber",{attrs:{title:t.doneTitle,itemsNumber:t.doneTasksNumber}}),n("TasksNumber",{attrs:{title:t.toDoTitle,itemsNumber:t.toDoTasksNumber}})],1)])}),c=[],o=n("2909"),l=(n("4e82"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{on:{drop:function(e){return t.onDrop(e,t.currentPosition)}}},[n("div",{staticClass:"main__item item grid",class:{checked:t.task.status,dragged:t.isDragged},attrs:{draggable:""},on:{dragstart:function(e){return t.onDragStart(e,t.currentPosition)},dragend:t.onDragEnd,dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},[n("div",{staticClass:"item__checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.task.status,expression:"task.status"}],attrs:{type:"checkbox",id:t.currentPosition},domProps:{checked:Array.isArray(t.task.status)?t._i(t.task.status,null)>-1:t.task.status},on:{change:function(e){var n=t.task.status,s=e.target,i=!!s.checked;if(Array.isArray(n)){var a=null,r=t._i(n,a);s.checked?r<0&&t.$set(t.task,"status",n.concat([a])):r>-1&&t.$set(t.task,"status",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.task,"status",i)}}}),n("label",{attrs:{for:t.currentPosition}})]),n("p",{staticClass:"item__title"},[t._v(t._s(t.title))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input item__input",domProps:{value:t.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSave.apply(null,arguments)},input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("button",{staticClass:"btn btn-reset btn-icon btn-isEdited btn-save",on:{click:t.handleSave}},[n("svg",{staticStyle:{"enable-background":"new 0 0 330 330"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330 330","xml:space":"preserve"}},[n("path",{attrs:{d:"M325.606,84.668L245.334,4.394c-2.813-2.813-6.628-4.393-10.607-4.393H195.02C195.013,0.001,195.007,0,195,0H75\n          c-0.007,0-0.013,0.001-0.02,0.001H15c-8.284,0-15,6.716-15,15V315c0,8.284,6.716,15,15,15h60h180h60c8.284,0,15-6.716,15-15V95.274\n          C330,91.296,328.42,87.48,325.606,84.668z M90,30.001h30V70c0,8.284,6.716,15,15,15s15-6.716,15-15V30.001h30V110H90V30.001z\n          M240,240H90v-30h150V240z M90,300v-30h150v30H90z M300,300h-30V195c0-8.284-6.716-15-15-15H75c-8.284,0-15,6.716-15,15v105H30\n          V30.001h30V125c0,8.284,6.716,15,15,15h120c8.284,0,15-6.716,15-15V30.001h18.515L300,101.487V300z"}})])]),n("button",{staticClass:"btn btn-reset btn-icon btn-isEdited btn-edit",on:{click:function(e){return t.handleEdit(e)}}},[n("svg",{staticStyle:{"enable-background":"new 0 0 330 330"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330 330","xml:space":"preserve"}},[n("g",{attrs:{id:"XMLID_23_"}},[n("path",{attrs:{id:"XMLID_24_",d:"M75,180v60c0,8.284,6.716,15,15,15h60c3.978,0,7.793-1.581,10.606-4.394l164.999-165\n              c5.858-5.858,5.858-15.355,0-21.213l-60-60C262.794,1.581,258.978,0,255,0s-7.794,1.581-10.606,4.394l-165,165\n              C76.58,172.206,75,176.022,75,180z M105,186.213L255,36.213L293.787,75l-150,150H105V186.213z"}}),n("path",{attrs:{id:"XMLID_27_",d:"M315,150.001c-8.284,0-15,6.716-15,15V300H30V30H165c8.284,0,15-6.716,15-15s-6.716-15-15-15H15\n              C6.716,0,0,6.716,0,15v300c0,8.284,6.716,15,15,15h300c8.284,0,15-6.716,15-15V165.001C330,156.716,323.284,150.001,315,150.001z"}})])])]),n("button",{staticClass:"btn btn-reset btn-icon btn-delete",on:{click:function(e){return t.$emit("delete-task",t.task.id)}}},[n("svg",{staticStyle:{"enable-background":"new 0 0 330 330"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 330 330","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M240,121.076V90h15c8.284,0,15-6.716,15-15s-6.716-15-15-15h-30h-15V15c0-8.284-6.716-15-15-15H75c-8.284,0-15,6.716-15,15\n            v45H45H15C6.716,60,0,66.716,0,75s6.716,15,15,15h15v185c0,8.284,6.716,15,15,15h60h37.596c19.246,24.347,49.031,40,82.404,40\n            c57.897,0,105-47.103,105-105C330,172.195,290.817,128.377,240,121.076z M90,30h90v30h-15h-60H90V30z M105,260H60V90h15h30h60h30\n            h15v31.076c-50.817,7.301-90,51.119-90,103.924c0,12.268,2.122,24.047,6.006,35H105z M225,300c-41.355,0-75-33.645-75-75\n            s33.645-75,75-75s75,33.645,75,75S266.355,300,225,300z"}}),n("path",{attrs:{d:"M256.819,193.181c-5.857-5.857-15.355-5.857-21.213,0L225,203.787l-10.606-10.606c-5.857-5.857-15.355-5.857-21.213,0\n            c-5.858,5.857-5.858,15.355,0,21.213L203.787,225l-10.606,10.606c-5.858,5.857-5.858,15.355,0,21.213\n            c2.929,2.929,6.768,4.394,10.606,4.394s7.678-1.465,10.606-4.394L225,246.213l10.606,10.606c2.929,2.929,6.768,4.394,10.606,4.394\n            s7.678-1.465,10.606-4.394c5.858-5.857,5.858-15.355,0-21.213L246.213,225l10.606-10.606\n            C262.678,208.536,262.678,199.038,256.819,193.181z"}})])])])])])}),u=[],d=n("5530"),f=(n("159b"),n("498a"),n("a9e3"),{data:function(){return{title:this.task.title,isEdited:!1,isDragged:!1}},methods:{handleEdit:function(t){var e=t.target.closest(".main__item");document.querySelectorAll(".main__item").forEach((function(t){return t.classList.remove("edited")})),e.classList.add("edited"),this.$emit("isEdited-task",this.task.id),this.isEdited=!0},handleSave:function(){if(this.title.trim()){var t=Object(d["a"])(Object(d["a"])({},this.task),{},{title:this.title});this.$emit("edit-task",t),document.querySelectorAll(".main__item").forEach((function(t){return t.classList.remove("edited")})),this.isEdited=!1}else this.isEdited=!0},onDragStart:function(t,e){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("itemId",e),this.isDragged=!this.isDragged},onDragEnd:function(){this.isDragged=!this.isDragged},onDrop:function(t,e){var n=parseInt(t.dataTransfer.getData("itemId"));this.$emit("change-index",n,e)}},props:{task:{type:Object,required:!0},currentPosition:{type:Number,required:!0}}}),h=f,p=(n("f330"),n("2877")),m=Object(p["a"])(h,l,u,!1,null,"925e2a8c",null),v=m.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"items-number"},[n("h4",[t._v(t._s(t.title+": "+t.itemsNumber))])])},g=[],b={props:{itemsNumber:{type:Number,required:!0},title:{type:String,required:!0}}},x=b,_=(n("a5d9"),Object(p["a"])(x,k,g,!1,null,"0ebd98d6",null)),w=_.exports,y={data:function(){return{doneTitle:"Выполнено",toDoTitle:"К исполнению"}},props:{tasks:{type:Array,required:!0}},components:{TaskCard:v,TasksNumber:w},methods:{deleteTask:function(t){this.$emit("delete-task",t)},editTask:function(t){this.$emit("edit-task",t)},changeIndex:function(t,e){this.$emit("change-index",t,e)}},computed:{doneTasksNumber:function(){return this.tasks.filter((function(t){return t.status})).length},toDoTasksNumber:function(){return this.tasks.filter((function(t){return!t.status})).length},sortedTaskList:function(){return Object(o["a"])(this.tasks).sort((function(t,e){return t.index-e.index}))}}},T=y,C=(n("c16f"),Object(p["a"])(T,r,c,!1,null,"9e1c34ca",null)),D=C.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"header__form",on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input header__input",attrs:{type:"text",placeholder:"Новое задание"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("button",{staticClass:"header__btn btn btn-reset",attrs:{type:"submit"}},[t._v("Добавить задание")])])},O=[],E={data:function(){return{title:""}},methods:{onSubmit:function(){if(this.title.trim()){var t={id:Date.now(),index:Date.now(),title:this.title,status:!1};this.$emit("save-new-task",t),this.title=""}}}},L=E,j=Object(p["a"])(L,S,O,!1,null,"cf90e460",null),M=j.exports,N={name:"App",components:{TasksList:D,TaskInput:M},data:function(){return{tasks:this.loadList()}},methods:{setTasksToStore:function(){localStorage.setItem("tasks",JSON.stringify(this.tasks))},loadList:function(){var t=localStorage.getItem("tasks"),e=t?JSON.parse(t):[];return e},deleteTask:function(t){this.tasks.length&&(this.tasks=this.tasks.filter((function(e){return e.id!==t})))},saveNewTask:function(t){this.tasks.unshift(t),this.setTasksToStore()},editTask:function(t){this.tasks.length&&(this.tasks.map((function(e){e.id===t.id&&(e.title=t.title)})),this.setTasksToStore())},changeIndex:function(t,e){this.tasks.map((function(n){n.index===t&&t<e&&(n.index=e+1),n.index===t&&t>e&&(n.index=e-1)}))}}},V=N,H=(n("034f"),Object(p["a"])(V,i,a,!1,null,null,null)),$=H.exports;n("38c8");s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t($)}}).$mount("#app")},"56f2":function(t,e,n){},"85ec":function(t,e,n){},a5d9:function(t,e,n){"use strict";n("531e")},c16f:function(t,e,n){"use strict";n("56f2")},f330:function(t,e,n){"use strict";n("fc25")},fc25:function(t,e,n){}});
//# sourceMappingURL=app.0dda4749.js.map